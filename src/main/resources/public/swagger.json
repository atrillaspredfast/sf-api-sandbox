{"swagger":"2.0","info":{"description":"This is Spredfast Conversations API. You can find more information at [http://dev.spredfast.com : Conversations](http://dev.spredfast.com)","version":"1.0.0","title":"Spredfast Conversations API","contact":{"name":"http://dev.spredfast.com"}},"host":"localhost:8092","basePath":"/","tags":[{"name":"Messages"}],"schemes":["http"],"paths":{"/{apiVersion}/company/{companyId}/initiative/{initiativeId}/message":{"post":{"tags":["Messages"],"operationId":"publishMultiPartMessage","produces":["application/json"],"parameters":[{"name":"companyId","in":"path","required":true,"type":"integer","format":"int64"},{"name":"initiativeId","in":"path","required":true,"type":"integer","format":"int64"},{"name":"message","in":"formData","required":false,"type":"ref"},{"name":"image","in":"formData","required":false,"type":"array","items":{"$ref":"#/definitions/FormDataBodyPart"},"collectionFormat":"csv"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/EntityResponseMessage"},"headers":{}}}}},"/{apiVersion}/company/{companyId}/initiative/{initiativeId}/message/{messageId}":{"get":{"tags":["Messages"],"summary":"Retrieve an existing message.","description":"The Messages endpoint returns information about the *Spredfast* Messages for the target Initiative.","operationId":"getMessage","produces":["application/json"],"parameters":[{"name":"messageId","in":"path","required":true,"type":"integer","format":"int64"},{"in":"path","description":"companyId","required":true,"type":"integer"},{"in":"path","description":"initiativeId","required":true,"type":"integer"}],"responses":{"200":{"description":"An array of Messages"}}},"put":{"tags":["Messages"],"operationId":"editMultiPartMessage","produces":["application/json"],"parameters":[{"name":"companyId","in":"path","required":true,"type":"integer","format":"int64"},{"name":"initiativeId","in":"path","required":true,"type":"integer","format":"int64"},{"name":"messageId","in":"path","required":true,"type":"integer","format":"int64"},{"name":"message","in":"formData","required":false,"type":"ref"},{"name":"image","in":"formData","required":false,"type":"array","items":{"$ref":"#/definitions/FormDataBodyPart"},"collectionFormat":"csv"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/EntityResponseMessage"},"headers":{}}}},"delete":{"tags":["Messages"],"operationId":"deleteMessage","produces":["application/json"],"parameters":[{"name":"companyId","in":"path","required":true,"type":"integer","format":"int64"},{"name":"initiativeId","in":"path","required":true,"type":"integer","format":"int64"},{"name":"messageId","in":"path","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/OptionalResponseLong"},"headers":{}}}}}},"definitions":{"ShareLink":{"type":"object","properties":{"url":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"caption":{"type":"string"},"thumbnailUrl":{"type":"string"}}},"CallStatus":{"type":"object","properties":{"succeeded":{"type":"boolean","readOnly":true,"default":false},"error":{"readOnly":true,"$ref":"#/definitions/ApiError"}}},"Message":{"type":"object","properties":{"id":{"type":"string"},"content":{"$ref":"#/definitions/MessageContent"},"title":{"type":"string"},"labels":{"type":"array","items":{"type":"string"}},"service":{"type":"string","enum":["TWITTER","FACEBOOK","GOOGLEPLUS","SINAWEIBO","LINKEDIN","PINTEREST","YOUTUBE"]},"targetAccountIds":{"type":"array","items":{"type":"string"}},"organicVisibility":{"type":"string","enum":["VISIBLE","INVISIBLE","VISIBLE_POST_PUBLISH"]},"status":{"type":"string","enum":["DRAFT","PENDING","AWAITING_APPROVAL","REJECTED","PUBLISHED","ERROR","DELETED"]},"publicationResults":{"type":"array","items":{"$ref":"#/definitions/PublicationResult"}},"scheduledPublishDate":{"type":"string","format":"date-time"},"callbacks":{"type":"array","uniqueItems":true,"items":{"type":"string","format":"uri"}},"targetingProfile":{"$ref":"#/definitions/TargetingProfile"},"assetIds":{"type":"array","items":{"type":"string"}},"planId":{"type":"string"}}},"MessageContent":{"type":"object","discriminator":"sfEntityType"},"TargetingValue":{"type":"object","properties":{"subType":{"type":"string","enum":["COUNTRY","REGION","METRO","CONTINENT","ZIP_CODE"]},"value":{"type":"string"},"description":{"type":"string"}}},"ApiError":{"type":"object","properties":{"code":{"type":"string","readOnly":true,"enum":["PUBLISH_DATE_INVALID","CANNOT_CREATE_NEW_LABELS","IP_ADDRESS_REJECTED","MISSING_FIELD","NOT_ACCEPTABLE","NOT_FOUND","PUBLISH_POST_UPDATE_NOT_ALLOWED","PUBLISH_IMAGE_BAD_CONTENT_TYPE","PUBLISH_IMAGE_TOO_LARGE","PUBLISH_INVALID_ACCOUNT_FOR_SERVICE","INVALID_MESSAGE_ID","NOT_IN_PRE_PUBLISH_STATE","NOT_ACCEPTABLE_CONTENT_TYPE","MESSAGE_HAS_A_LINK_PREVIEW","MESSAGE_HAS_TARGETING_PROFILE","MESSAGE_HAS_PROMOTION","MESSAGE_HAS_SCHEDULED_SERIES","MESSAGE_HAS_APPROVAL_TEAMS","EDIT_MESSAGE_SERVER_ERROR","UNAUTHENTICATED","UNAUTHORIZED","UNKNOWN_ERROR","RESOURCE_NOT_FOUND","VALIDATION_ERROR","VIDEO_SINGLE_ASSET_ALLOWED","VIDEO_INVALID_CATEGORY"]},"message":{"type":"string","readOnly":true}}},"EntityResponseMessage":{"type":"object","properties":{"data":{"$ref":"#/definitions/Message"},"status":{"readOnly":true,"$ref":"#/definitions/CallStatus"}}},"ImageShare":{"type":"object","discriminator":"sfEntityType","properties":{"caption":{"type":"string"},"temporaryImageUrl":{"type":"string"},"temporaryThumbnailUrl":{"type":"string"}}},"Status":{"allOf":[{"$ref":"#/definitions/MessageContent"},{"type":"object","properties":{"text":{"type":"string"},"shareLink":{"$ref":"#/definitions/ShareLink"}}}]},"TargetingProfile":{"type":"object","properties":{"targetingType":{"type":"string","enum":["ENHANCED","GATED"]},"targetingValues":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/definitions/TargetingValue"}}}}},"ImageShareList":{"allOf":[{"$ref":"#/definitions/MessageContent"},{"type":"object","properties":{"images":{"type":"array","items":{"$ref":"#/definitions/ImageShare"}},"caption":{"type":"string"}}}]},"OptionalResponseLong":{"type":"object","properties":{"data":{"type":"integer","format":"int64"},"status":{"readOnly":true,"$ref":"#/definitions/CallStatus"}}},"PublicationResult":{"type":"object","properties":{"accountId":{"type":"string"},"serviceId":{"type":"string"},"serviceLink":{"type":"string"},"status":{"type":"string","enum":["PENDING","PUBLISHED","ERROR","DELETED"]},"datePublished":{"type":"string","format":"date-time"}}},"Video":{"allOf":[{"$ref":"#/definitions/MessageContent"},{"type":"object","properties":{"videoTitle":{"type":"string"},"description":{"type":"string"},"tags":{"type":"string"},"category":{"type":"string"}}}]}}}